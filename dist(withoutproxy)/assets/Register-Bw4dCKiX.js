import{r as t,j as e}from"./index-DavSq415.js";import{a as p}from"./axios-B2YOV0tR.js";import{_ as j}from"./ClipLoader-BS182NfB.js";import{S as u}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{H as w}from"./Helmet-CWmtKA_n.js";import"./Sidebar-ByFRoWwf.js";const C=()=>{const[n,x]=t.useState(""),[a,f]=t.useState(""),[g,i]=t.useState(""),[l,b]=t.useState(""),[r,o]=t.useState(!1),[c,d]=t.useState(""),h=async s=>{if(s.preventDefault(),a!==l){d("Passwords do not match");return}o(!0);try{const m=await p.post("https://api.nafismu.xyz/api/auth/register",{username:n,password:a,role:g});console.log(m.data),o(!1),u.fire({icon:"success",title:"Registration successful",showConfirmButton:!1,timer:1500}),setTimeout(()=>{window.location.href="/register"},1500)}catch{d("Registration failed. Try again."),o(!1),u.fire({icon:"error",title:"Login gagal",text:"Username atau password salah. Silakan coba lagi.",confirmButtonText:"OK"})}};return e.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:[e.jsx(w,{children:e.jsx("title",{children:"Register Page"})}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"User:"}),e.jsx("input",{type:"text",value:n,onChange:s=>x(s.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:ring-indigo-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Role:"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:"admin",onChange:s=>i(s.target.checked?"admin":""),className:"mr-2"}),"Admin"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:"employee",onChange:s=>i(s.target.checked?"employee":""),className:"mr-2"}),"Employee"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Password:"}),e.jsx("input",{type:"password",value:a,onChange:s=>f(s.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:ring-indigo-200"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Confirm Password:"}),e.jsx("input",{type:"password",value:l,onChange:s=>b(s.target.value),required:!0,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring focus:ring-indigo-200"})]}),c&&e.jsx("div",{className:"mb-4 text-red-600",children:c}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-indigo-500 font-bold text-white py-2 rounded-md hover:bg-indigo-600 transition duration-300",children:r?e.jsx(j,{color:"#fff",loading:r,size:20}):"Register"}),e.jsx("button",{className:"bg-red-500 text-white font-bold py-2 px-4 rounded-md mr-4 w-full mt-4",onClick:()=>window.history.back(),children:"Kembali"})]})]})]})};export{C as default};
