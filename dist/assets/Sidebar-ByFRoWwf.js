import{r as t,R as b,u as k,j as e,L as p}from"./index-DavSq415.js";import{S as N}from"./sweetalert2.esm.all-BGf-Fe8G.js";function L(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"}))}const C=t.forwardRef(L);function E(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 5l7 7-7 7M5 5l7 7-7 7"}))}const M=t.forwardRef(E);function y(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}))}const m=t.forwardRef(y);function R(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))}const w=t.forwardRef(R);function B(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))}const g=t.forwardRef(B);function I(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}))}const S=t.forwardRef(I);function $(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"}))}const f=t.forwardRef($);function z(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))}const u=t.forwardRef(z);function F(n,s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},n),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const W=t.forwardRef(F),j=b.createContext({});function T({role:n}){var x;const s=k(),[r,o]=t.useState(!1),[c,i]=t.useState(window.innerWidth<768),a=localStorage.getItem("username"),d=()=>{N.fire({title:"Are you sure to logout ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#279e21",cancelButtonColor:"#d33",confirmButtonText:"Yes, logout",cancelButtonText:"Cancel"}).then(l=>{if(l.isConfirmed)localStorage.removeItem("token","username","role"),s("/");else return!1})};t.useEffect(()=>{const l=()=>i(window.innerWidth<768);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const h={admin:[{to:"/admin",icon:e.jsx(w,{className:"w-7 h-7"}),label:"Admin Dashboard"},{to:"/register",icon:e.jsx(m,{className:"w-7 h-7"}),label:"Tambahkan User"},{to:"/employee-list",icon:e.jsx(u,{className:"w-7 h-7"}),label:"Manage Employee"},{to:"/customers-list-admin",icon:e.jsx(u,{className:"w-7 h-7"}),label:"Manage Customers"},{to:"/sales-performance",icon:e.jsx(m,{className:"w-7 h-7"}),label:"Sales Performance"},{to:"/sales-funnel",icon:e.jsx(m,{className:"w-7 h-7"}),label:"Sales Funnel"}],employee:[{to:"/employee",icon:e.jsx(w,{className:"w-7 h-7"}),label:"Employee Dashboard"},{to:"/customers-list-employee",icon:e.jsx(u,{className:"w-7 h-7"}),label:"Manage Customers"},{to:"/input-data-sales",icon:e.jsx(m,{className:"w-7 h-7"}),label:"Input Data Sales"},{to:"/attendance-sales",icon:e.jsx(f,{className:"w-7 h-7"}),label:"Attendances Sales"},{to:"/capture-face",icon:e.jsx(f,{className:"w-7 h-7"}),label:"Capture Face"}]};return c?e.jsx(D,{isOpen:r,setIsOpen:o,handleLogout:d,username:a,role:n,menuItems:h[n]}):e.jsx("aside",{className:`h-screen sticky top-0 transition-all duration-300 ${r?"w-64":"w-20"}`,children:e.jsxs("nav",{className:"h-full flex flex-col bg-white border-r shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-5",children:[e.jsx("p",{className:`text-2xl font-bold ml-2 ${r?"":"hidden"}`,children:"Indibiz Dashboard"}),e.jsx("button",{className:"p-1.5 rounded-full bg-gray-50 hover:bg-gray-100",onClick:()=>o(!r),children:r?e.jsx(C,{className:"w-7 h-7"}):e.jsx(M,{className:"w-7 h-7"})})]}),e.jsx(j.Provider,{value:{isOpen:r},children:e.jsx("ul",{className:"space-y-4 flex-1 px-4",children:(x=h[n])==null?void 0:x.map((l,v)=>e.jsx(O,{...l},v))})}),e.jsxs("div",{className:"border-t flex p-3 justify-center items-center",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${a}`,alt:"Avatar",className:"w-10 h-10 rounded-md"}),r&&e.jsxs("div",{className:"flex-1 ml-3",children:[e.jsx("h4",{className:"text-lg uppercase font-semibold",children:a}),e.jsx("span",{className:"text-md text-gray-600",children:n})]})]}),e.jsxs("button",{onClick:d,className:`relative flex items-center py-2 px-3 my-1
        font-medium rounded-md cursor-pointer text-red-600 ${r?"mt-4 mx-3":"mt-2 items-center justify-center"}`,children:[e.jsx(g,{className:"w-7 h-7"}),r&&e.jsx("span",{children:"Logout"})]})]})})}function O({to:n,icon:s,label:r}){const{isOpen:o}=t.useContext(j),c=window.location.pathname===n;return e.jsx("li",{className:`relative flex items-center py-2 px-3 my-2 font-medium rounded-md cursor-pointer transition-all duration-300 group ${c?"bg-gradient-to-tr from-indigo-200 to-indigo-100 text-indigo-800":"hover:bg-indigo-50 text-gray-600"}`,children:e.jsxs(p,{to:n,className:"flex items-center space-x-2",children:[s,o&&e.jsx("span",{children:r})]})})}function D({isOpen:n,setIsOpen:s,handleLogout:r,username:o,role:c,menuItems:i}){return e.jsxs("div",{className:"bg-white shadow-md fixed top-0 w-full z-10",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("button",{onClick:()=>s(!n),className:"p-2",children:n?e.jsx(W,{className:"w-6 h-6"}):e.jsx(S,{className:"w-6 h-6"})}),e.jsx("h4",{className:"text-xl font-semibold",children:"Indibiz Dashboard"}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${o}`,alt:"Avatar",className:"w-8 h-8 rounded-md"})]}),n&&e.jsxs("div",{className:"bg-white border-t shadow-md p-4 absolute top-full left-0 w-full",children:[e.jsx("ul",{className:"space-y-4",children:i==null?void 0:i.map((a,d)=>e.jsx("li",{className:"flex items-center py-2 px-4 rounded-md hover:bg-indigo-50",children:e.jsxs(p,{to:a.to,className:"flex items-center space-x-2",onClick:()=>s(!1),children:[a.icon,e.jsx("span",{children:a.label})]})},d))}),e.jsxs("button",{onClick:r,className:"w-full text-left py-2 px-4 rounded-md mt-4 text-red-600 flex items-center space-x-2",children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})]})]})}export{T as S};
